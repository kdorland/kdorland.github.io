<!doctype html>
<html>
<head>
    <!-- Basic Page Needs
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8">
    <title>Status:  Hosting Wordpress with Docker</title>
    <meta name="description" content="">
    <meta name="author" content="Kristian">

    <!-- Mobile Specific Metas
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- FONT
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans|Dosis:400,800" rel="stylesheet" type="text/css" />

    <!-- CSS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/skeleton.css">
    <link rel="stylesheet" href="/css/kristian.css">

    <!-- Favicon
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/png" href="/images/favicon.png">
</head>
<body>

<div class="container">
    <div class="row">
    <div class="twelve columns">
        <ul id="nav">
            <li><a href="https://dk.linkedin.com/in/kristiandorland">LinkedIn</a></li>
            <li><a href="https://plus.google.com/+KristianDorland">Google+</a>
            <li><a href="https://github.com/kdorland">GitHub</a></li>
        </ul>
    </div>
</div>
    
    <div class="row">
        <div class="twelve columns">
            <h1>Status:  Hosting Wordpress with Docker</h1>
            <time style="display: block">2015-07-15</time>
            <p>I&#39;ve been hosting mandalina.dk, which is using Wordpress, with Docker for almost six months. And mostly it&#39;s been a joy. My main problem is the increased memory usage on the host. Before Docker, I could easily host it on a 512 MB Digital Ocean instance even with other services running. It&#39;s still possible with Docker, but my MariaDB Docker instances crashes at least once a month with nothing in the logs whatsoever. I&#39;ve almost certain it runs out of memory, because starting it up again (docker run mandalina_mariadb) solves the problem for another month.</p>
<p>In that regard, I&#39;ve been extremely happy with <a href="https://uptimerobot.com/">Status Robot</a>, which is a free service that mails you the instant one of your websites is down, and again as soon it is up and running again. Everytime mandalina.dk went down, I could just ssh into my machine and run <em>docker run mandalina_mariadb</em> and everything worked again. Sure, that part could have been automated, but the site is low traffic, and I wanted to know when it happened and why, so I could solve the problem permanently. In the end, I&#39;ve upgraded to 1 GB memory on the server and hope that the problem goes away. Otherwise, I&#39;ll have to script myself out of the automatic restart so I don&#39;t have to login to the server every time (I used to do that with an unstable service at work).</p>
<p>Another small problem is that Docker volumes seems to accumulate on the host with time, probably because of all the restarts of the services. Cleaning them up seems harder than it should be, but luckily I have enough free disk space that I won&#39;t have to think about it for many years. By then, I hope Docker have gained built in cleaning tools so I don&#39;t have to start messing around with half baked bash scripts.</p>

        </div>
    </div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61450987-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
